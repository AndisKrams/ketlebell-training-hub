{% extends 'base.html' %}
{% block content %}
<div class="container mt-4">
  <h2>Your basket</h2>
  {% if items %}
    <table class="table">
      <thead>
        <tr><th>Item</th><th>Quantity</th><th>Price</th><th></th></tr>
      </thead>
      <tbody>
        {% for it in items %}
          <tr>
            <td>{{ it.label }}</td>
            <td>
              {% if it.id %}
                <form method="post" action="{% url 'basket:update' it.id %}">
                  {% csrf_token %}
                  <input type="number" name="quantity" value="{{ it.quantity }}" min="0" class="form-control" style="width:100px;display:inline-block;">
                  <button class="btn btn-sm btn-primary">Update</button>
                </form>
              {% else %}
                {{ it.quantity }}
              {% endif %}
            </td>
            <td>Â£{{ it.price }}</td>
            <td></td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>Your basket is empty.</p>
  {% endif %}
</div>
{% endblock %}
